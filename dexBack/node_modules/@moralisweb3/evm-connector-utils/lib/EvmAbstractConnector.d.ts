import EventEmitter from 'eventemitter3';
import { EvmAddress, EvmBaseConnectOptions, EvmChain, EvmConnection, EvmProvider, LoggerController, MoralisCore } from '@moralisweb3/core';
/**
 * Abstract connector to connect EIP-1193 providers to Moralis
 *
 * It should implement at least:
 * - createProvider()
 * - createConnection()
 * - name: a name to identify
 * - network: the network type that is used (eg. 'evm')
 */
export declare abstract class EvmAbstractConnector<Provider extends EvmProvider = EvmProvider, Options extends EvmBaseConnectOptions = EvmBaseConnectOptions> extends EventEmitter {
    readonly name: string;
    protected readonly core: MoralisCore;
    readonly network = "evm";
    protected readonly logger: LoggerController;
    private _provider;
    get provider(): Provider | null;
    private _chain;
    get chain(): EvmChain | null;
    private _account;
    get account(): EvmAddress | null;
    constructor(name: string, core: MoralisCore);
    connect(options?: Options): Promise<EvmConnection>;
    /**
     * Creates a valid EIP-1193 provider.
     */
    protected abstract createProvider(options?: Options): Promise<Provider>;
    /**
     * Connects the provider.
     * Should returns an object with:
     * - provider: A valid EIP-1193 provider
     * - chainId(optional): the chainId that has been connected to
     * - account(optional): the address that is connected to the provider
     */
    protected abstract createConnection(options?: Options): Promise<EvmConnection>;
    protected getProvider(options?: Options): Promise<Provider>;
    private subscribeToEvents;
    /**
     * Updates account and emit event, on EIP-1193 accountsChanged events
     */
    private handleAccountsChanged;
    /**
     * Updates chainId and emit event, on EIP-1193 accountsChanged events
     */
    private handleChainChanged;
    private handleConnect;
    private handleDisconnect;
    cancelRequest(): Promise<void>;
}
export interface ConnectorFactory {
    create(core: MoralisCore): EvmAbstractConnector;
}
//# sourceMappingURL=EvmAbstractConnector.d.ts.map